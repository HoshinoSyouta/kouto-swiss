// TODO : REMOVE ks-vendors globals mecanism
ks-vendors-prefixes = recommended

vendor( property, value, feature = null, prefixes = null, official = true )
    if feature isnt null
        for prefix in caniuse-prefixes( feature )
            prefixedproperty = "-" + prefix + "-" + property
            {prefixedproperty}: value
    else
        p( "Feature is NULL for " + property )
        if ks-vendors-prefixes isnt false
            if ks-vendors-prefixes isnt recommended
                prefixes = ks-vendors-prefixes
            if prefixes
                for prefix in prefixes
                    prefixedproperty = "-" + prefix + "-" + property
                    {prefixedproperty}: value
    {property}: value if official
    // TODO : REMOVE LINES 8 to 16

align-content()
    vendor( "align-content", arguments, feature: "flexbox" )

align-items()
    vendor( "align-items", arguments, feature: "flexbox" )

align-self()
    vendor( "align-self", arguments, feature: "flexbox" )

animation()
    vendor( "animation", arguments, feature: "css-animation" )
animation-delay()
    vendor( "animation-delay", arguments, feature: "css-animation" )
animation-direction()
    vendor( "animation-direction", arguments, feature: "css-animation" )
animation-duration()
    vendor( "animation-duration", arguments, feature: "css-animation" )
animation-fill-mode()
    vendor( "animation-fill-mode", arguments, feature: "css-animation" )
animation-iteration-count()
    vendor( "animation-iteration-count", arguments, feature: "css-animation" )
animation-name()
    vendor( "animation-name", arguments, feature: "css-animation" )
animation-play-state()
    vendor( "animation-play-state", arguments, feature: "css-animation" )
animation-timing-function()
    vendor( "animation-timing-function", arguments, feature: "css-animation" )

appearance()
    vendor( "appearance", arguments, prefixes: webkit moz )

backface-visibility()
    vendor( "backface-visibility", arguments, prefixes: webkit ms )

background-clip()
    vendor( "background-clip", arguments, feature: "background-img-opts" )
background-origin()
    vendor( "background-origin", arguments, feature: "background-img-opts" )
background-size()
    vendor( "background-size", arguments, feature: "background-img-opts" )

clip-path()
    vendor( "clip-path", arguments, prefixes: webkit )

column-count()
    vendor( "column-count", arguments, feature: "multicolumn" )
column-fill()
    vendor( "column-fill", arguments, feature: "multicolumn" )
column-gap()
    vendor( "column-gap", arguments, feature: "multicolumn" )
column-rule()
    vendor( "column-rule", arguments, feature: "multicolumn" )
column-rule-color()
    vendor( "column-rule-color", arguments, feature: "multicolumn" )
column-rule-style()
    vendor( "column-rule-style", arguments, feature: "multicolumn" )
column-rule-width()
    vendor( "column-rule-width", arguments, feature: "multicolumn" )
column-span()
    vendor( "column-span", arguments, feature: "multicolumn")
column-width()
    vendor( "column-width", arguments, feature: "multicolumn" )
columns()
    vendor( "columns", arguments, feature: "multicolumn" )

flex()
    vendor( "flex", arguments, feature: "flexbox" )
flex-basis()
    vendor( "flex-basis", arguments, feature: "flexbox" )
flex-direction()
    vendor( "flex-direction", arguments, feature: "flexbox" )
flex-flow()
    vendor( "flex-flow", arguments, feature: "flexbox" )
flex-grow()
    vendor( "flex-grow", arguments, feature: "flexbox" )
flex-shrink()
    vendor( "flex-shrink", arguments, feature: "flexbox" )
flex-wrap()
    vendor( "flex-wrap", arguments, feature: "flexbox" )

grid()
    vendor( "grid", arguments, feature: "css-grid" )
grid-area()
    vendor( "grid-area", arguments, feature: "css-grid" )
grid-auto-columns()
    vendor( "grid-auto-columns", arguments, feature: "css-grid" )
grid-auto-flow()
    vendor( "grid-auto-flow", arguments, feature: "css-grid" )
grid-auto-position()
    vendor( "grid-auto-position", arguments, feature: "css-grid" )
grid-auto-rows()
    vendor( "grid-auto-rows", arguments, feature: "css-grid" )
grid-column()
    vendor( "grid-column", arguments, feature: "css-grid" )
grid-column-end()
    vendor( "grid-column-end", arguments, feature: "css-grid" )
grid-column-start()
    vendor( "grid-column-start", arguments, feature: "css-grid" )
grid-row()
    vendor( "grid-row", arguments, feature: "css-grid" )
grid-row-end()
    vendor( "grid-row-end", arguments, feature: "css-grid" )
grid-row-start()
    vendor( "grid-row-start", arguments, feature: "css-grid" )
grid-template()
    vendor( "grid-template", arguments, feature: "css-grid" )
grid-template-areas()
    vendor( "grid-template-areas", arguments, feature: "css-grid" )
grid-template-columns()
    vendor( "grid-template-columns", arguments, feature: "css-grid" )
grid-template-rows()
    vendor( "grid-template-rows", arguments, feature: "css-grid" )

justify-content()
    vendor( "justify-content", arguments, feature: "flexbox" )

mask()
    vendor( "mask", arguments, feature: "css-masks" )

opacity( value )
    if value == inherit or value == initial
        -ms-filter value
        filter value
    else
        val = round( value * 100 )
        if val == 100
            -ms-filter: none
            filter: none
        else
            -ms-filter: '"progid:DXImageTransform.Microsoft.Alpha(Opacity=%s)"' % val
            filter: 'alpha(opacity=%s)' % val
    opacity value

order()
    vendor( "order", arguments, feature: "flexbox" )

perspective()
    vendor( "perspective", arguments, feature: "transforms3d" )
perspective-origin()
    vendor( "perspective-origin", arguments, feature: "transforms3d" )

transform()
    vendor( "transform", arguments, feature: "transforms2d" )
transform-origin()
    vendor( "transform-origin", arguments, feature: "transforms2d" )
transform-style()
    vendor( "transform-style", arguments, feature: "transforms3d" )

transition()
    vendor( "transition", arguments, prefixes: webkit o )
transition-delay()
    vendor( "transition-delay", arguments, prefixes: webkit o )
transition-duration()
    vendor( "transition-duration", arguments, prefixes: webkit o )
transition-property()
    vendor( "transition-property", arguments, prefixes: webkit o )
transition-timing-function()
    vendor( "transition-timing-function", arguments, prefixes: webkit o )
