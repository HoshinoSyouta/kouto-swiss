// TODO makes a mixin from this
ks-mq-retina = "only screen and (-webkit-min-device-pixel-ratio: 1.3),"
ks-mq-retina += " only screen and (min--moz-device-pixel-ratio: 1.3),"
ks-mq-retina += " only screen and (-o-min-device-pixel-ratio: 1.3/1),"
ks-mq-retina += " only screen and (min-device-pixel-ratio: 1.3),"
ks-mq-retina += " only screen and (min-resolution: 125dpi),"
ks-mq-retina += " only screen and (min-resolution: 1.3dppx)"

retina-image( img-src, size = false, suffix = "@2x" )
    ext = extname( img-src )
    image-src = pathjoin( dirname( img-src ), basename( img-src, ext ) + ext )
    retina-src = pathjoin( dirname( img-src ), basename( img-src, ext ) + suffix + ext )
    unless size
        size = image-size( img-src, true )
        if size[ 0 ] == 0 && size[ 1 ] == 0
            size = contain

    background-image url( image-src )
    @media ks-mq-retina
        background-image url( retina-src )
        background-size size


